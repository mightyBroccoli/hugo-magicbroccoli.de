<!DOCTYPE html>
<html class="no-js">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Server Technik  &middot; Magic Broccoli</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="verwendete Server Technik" />

<meta name="keywords" content="Prosody, Debian, XMPP, MagicBroccoli XMPP, ">


<meta property="og:title" content="Server Technik  &middot; Magic Broccoli ">
<meta property="og:site_name" content="Magic Broccoli"/>
<meta property="og:url" content="https://magicbroccoli.de/page/technik/" />
<meta property="og:locale" content="de-DE">


<meta property="og:type" content="article" />
<meta property="og:description" content="verwendete Server Technik"/>
<meta property="og:article:published_time" content="2017-06-27T00:00:00Z" />
<meta property="og:article:modified_time" content="2017-06-27T00:00:00Z" />

  
    
<meta property="og:article:tag" content="Prosody">
    
<meta property="og:article:tag" content="Debian">
    
<meta property="og:article:tag" content="XMPP">
    
<meta property="og:article:tag" content="MagicBroccoli XMPP">
    
  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@" />
<meta name="twitter:title" content="Server Technik" />
<meta name="twitter:description" content="verwendete Server Technik" />
<meta name="twitter:url" content="https://magicbroccoli.de/page/technik/" />
<meta name="twitter:domain" content="https://magicbroccoli.de/">
  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Server Technik",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2017-06-27",
    "description": "verwendete Server Technik",
    "wordCount": 325
  }
</script>



<link rel="canonical" href="https://magicbroccoli.de/page/technik/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://magicbroccoli.de/touch-icon-144-precomposed.png">
<link href="https://magicbroccoli.de/favicon.ico" rel="icon">

<meta name="generator" content="Hugo 0.27.1" />


  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">

  <link rel="stylesheet" href="https://magicbroccoli.de/assets/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://magicbroccoli.de/assets/css/style.css">
  <link rel="stylesheet" href="https://magicbroccoli.de/assets/css/tomorrow-night.css">
  <link href='//fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>

</head>
<body class="bg-light">
    <nav class="navbar navbar-expand-md navbar-light blog-header">
  <div class="container">
    <button class="navbar-toggler" type="button" data-toggle="collapse"
        data-target="#exCollapsingNavbar2"
        aria-controls="exCollapsingNavbar2" aria-expanded="false" aria-label="Toggle navigation">
      &#9776;
    </button>
    <div class="collapse navbar-collapse" id="exCollapsingNavbar2">
      <a class="navbar-brand" href="https://magicbroccoli.de/">Magic Broccoli</a>
      <ul class="nav navbar-nav">
        
        
          <li class="nav-item">
          <a class="nav-link menu-item" href="https://magicbroccoli.de/">
              <i class='fa fa-home fa-fw'></i>
              <span>Home</span>
          </a>
        </li>
        
          <li class="nav-item">
          <a class="nav-link menu-item" href="https://magicbroccoli.de/xmpp/">
              <i class='fa fa-delicious'></i>
              <span>XMPP</span>
          </a>
        </li>
        
          <li class="nav-item">
          <a class="nav-link menu-item" href="https://magicbroccoli.de/register/">
              <i class='fa fa-plus' fa-fw'></i>
              <span>Register</span>
          </a>
        </li>
        
          <li class="nav-item">
          <a class="nav-link menu-item" href="https://magicbroccoli.de/page/tutorial/">
              <i class='fa fa-question-circle' fa-fw'></i>
              <span>Tutorials</span>
          </a>
        </li>
        
          <li class="nav-item">
          <a class="nav-link menu-item" href="https://magicbroccoli.de/contact/">
              <i class='fa fa-info-circle'></i>
              <span>About me</span>
          </a>
        </li>
        
      </ul>
    </div>
  </div>
</nav>

<div class="container p-a-0">
  <div class="row m-l-0 m-r-0">
    <div class="col-xs-12 col-md-9 post-container">
      <div class="content">
  

<h2 id="sicherheit">Sicherheit</h2>

<p>Das Hostsystem läuft unter <img src="https://magicbroccoli.de/icons/debian_icon.png" alt="Debian" /> Debian 9.1 Stretch.
Ich update das System und alle seine Komponenten regelmäßig. Dabei nehme ich teilweise Rücksicht darauf, dass es zu keinen reboot in Stoßzeiten kommt. Wenn es aber gar nicht anders geht, ist eine kurze Downtime für wichtige Updates vertretbar.</p>

<h3 id="dns">DNS</h3>

<p>Die gesamte Zone von <em>magicbroccoli.de</em> ist mit DNSSEC signiert und lässt sich überprüfen.</p>

<h2 id="prosody">Prosody</h2>

<p>Der XMPP Server ist zur Zeit ein Prosody 0.10 nightly.</p>

<h3 id="verschlüsselung">Verschlüsselung</h3>

<p>Prosody ist so konfiguriert, ausschließlich verschlüsselte Verbindungen zuzulassen. Zusätzlich dazu ist der Server so konfiguriert ausschließlich Verschlüsselungsverfahren zuzulassen, die <a href="https://de.wikipedia.org/wiki/Perfect_Forward_Secrecy" target="_blank">Perfect Forward Secrecy</a> unterstützen.
Ungesicherte Verbindungen, oder Verbindungen mit zu schwacher Verschlüsselung bei <em>c2s</em> oder <em>s2s</em> werden blockiert. Leider werden dadurch einige Server sowie einige ältere Clients ausgesperrt, allerdings ist Verschlüsselng für mich ein Ausschlusskriterium.
Eine Ansicht welche Verschlüsselungsverfahren zum Verbindungsaufbau zulässig sind ist hier zu finden: <a href="https://check.messaging.one/result.php?domain=magicbroccoli.de&amp;type=client#ciphers" target="_blank">zulässige Verschlüsselungsverfahren</a></p>

<h3 id="zertifikate">Zertifikate</h3>

<p>Es gibt viele öffentliche XMPP Server, die unter selbstsignierten oder ungültigen Zertifikaten betrieben werden. Mein Server ist so konfiguriert ausschließlich Zertifikate zuzulassen, die anerkannt &ldquo;<em>valid</em>&rdquo; sind. Selbstsignierte Zertifikate werden nicht anerkannt und somit wird eine Verbindung blockiert.</p>

<h3 id="passwörter">Passwörter</h3>

<p>Passwöter werden gehashed in einer Datenbank gespeichert, die nicht von außen erreichbar ist. Als Authentifizierungsverfahren wird entweder <a href="https://en.wikipedia.org/wiki/Salted_Challenge_Response_Authentication_Mechanism" target="_blank"><em>SCRAM-SHA-1</em></a> oder <a href="https://en.wikipedia.org/wiki/Salted_Challenge_Response_Authentication_Mechanism" target="_blank"><em>SCRAM-SHA-1-PLUS</em></a>.
Speziell das <a href="https://de.wikipedia.org/wiki/HTTP-Authentifizierung#Digest_Access_Authentication" target="_blank"><em>DIGEST-MD5</em></a> Verfahren, welches ältere Clients und Bots häufiger verwenden, wird nicht unterstützt.</p>

<h2 id="features">Features</h2>

<p>Der Server unterstützt eine große Vielfalt an XMPP-Erweiterungen (XEPs). Jeder Client unterstützt dabei eine andere Teilmenge dieser Features. Speziell gebe ich Acht darauf, <a href="https://conversations.im/" target="_blank">Conversations (Android)</a> in möglichst großem Umfang zu unterstützen.
Auszug aus den speziellern Server-Features:</p>

<ul>
<li><a href="https://xmpp.org/extensions/xep-0033.html" target="_blank">XEP-0033: Extended Stanza Addressing</a></li>
<li><a href="https://xmpp.org/extensions/xep-0035.html" target="_blank">XEP-0035: SSL/TLS Integration</a></li>
<li><a href="https://xmpp.org/extensions/xep-0045.html" target="_blank">XEP-0045: Multi-User Chat</a></li>
<li><a href="https://xmpp.org/extensions/xep-0055.html" target="_blank">XEP-0055: Basic implementation of Jabber Search</a></li>
<li><a href="https://xmpp.org/extensions/xep-0065.html" target="_blank">XEP-0065: SOCKS5 Bytestreams</a></li>
<li><a href="https://xmpp.org/extensions/xep-0124.html" target="_blank">XEP-0124: Bidirectional-streams Over Synchronous HTTP (BOSH)</a></li>
<li><a href="https://xmpp.org/extensions/xep-0136.html" target="_blank">XEP-0136: Message Archiving</a></li>
<li><a href="https://xmpp.org/extensions/xep-0198.html" target="_blank">XEP-0198: Stream Managment</a></li>
<li><a href="https://xmpp.org/extensions/xep-0280.html" target="_blank">XEP-0280: Message Carbons</a></li>
<li><a href="https://xmpp.org/extensions/xep-0313.html" target="_blank">XEP-0313: Message Archive Management</a></li>
<li><a href="https://xmpp.org/extensions/xep-0363.html" target="_blank">XEP-0363: HTTP File Upload</a></li>
</ul>

<h3 id="http-bind-bosh">HTTP-Bind / Bosh</h3>

<p>HTTP-Bind Adresse: <a href="https://magicbroccoli.de/http-bind" target="_blank">https://magicbroccoli.de/http-bind</a></p>

<h3 id="websocket">Websocket</h3>

<p>Websocket Adresse: <a href="https://magicbroccoli.de/xmpp-websocket" target="_blank">https://magicbroccoli.de/xmpp-websocket</a></p>

<h2 id="registrieren">Registrieren</h2>

<p>Wenn dich diese Dinge überzeugt haben XMPP für dich und deine Freunde zu probieren. Kannst du dich hier direkt anmelden.
<center>
<a style="display: block; margin-top: 50px; margin-left: auto; margin-right: auto; margin-bottom: 50px; height: 50px; width: 300px; background-color: #0069a1; color: white; border-radius: 5px; line-height: 50px; text-align: center; font-weight: bold;" href="https://magicbroccoli.de/register/">Registrieren</a>
</center></p>

<h2 id="statistiken">Statistiken</h2>

<p><img src="https://magicbroccoli.de/munin/magicbroccoli.de/rosewood.magicbroccoli.de/prosody_c2s-week.png" width="45%"><img src="https://magicbroccoli.de/munin/magicbroccoli.de/rosewood.magicbroccoli.de/prosody_s2s-week.png" width="45%"><img src="https://magicbroccoli.de/munin/magicbroccoli.de/rosewood.magicbroccoli.de/prosody_stanzas-week.png" width="45%"><img src="https://magicbroccoli.de/munin/magicbroccoli.de/rosewood.magicbroccoli.de/prosody_uptime-week.png" width="45%"></p>

</div>

    </div>
      <div class="col-xs-12 col-md-3">
        <div class="sidebar">
  

  


<div class="card card-block">
  <h4 class="card-title">CATEGORIES</h4>
  <div class="card-text">
    <div class="widget">
      <ul>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/bash/">
                bash
            </a>
            <span class="category-list-count">1</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/chatsecure/">
                chatsecure
            </a>
            <span class="category-list-count">1</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/debian/">
                debian
            </a>
            <span class="category-list-count">2</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/development/">
                development
            </a>
            <span class="category-list-count">1</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/gajim/">
                gajim
            </a>
            <span class="category-list-count">1</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/mariadb/">
                mariadb
            </a>
            <span class="category-list-count">1</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/omemo/">
                omemo
            </a>
            <span class="category-list-count">1</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/prosody/">
                prosody
            </a>
            <span class="category-list-count">2</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/teamspeak/">
                teamspeak
            </a>
            <span class="category-list-count">1</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/xep-0368/">
                xep-0368
            </a>
            <span class="category-list-count">1</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/xmpp/">
                xmpp
            </a>
            <span class="category-list-count">5</span>
        </li>
        
      </ul>
    </div>
  </div>
</div>




  



<div class="card card-block">
  <h4 class="card-title">TAGS</h4>
  <div class="card-text">
    <div class="widget">
      <ul>
        
          <li>
            <a href="https://magicbroccoli.de/tags/ca-bundle/">ca-bundle</a>
            <span class="category-list-count">1</span>
          </li>
        
          <li>
            <a href="https://magicbroccoli.de/tags/ccc/">ccc</a>
            <span class="category-list-count">1</span>
          </li>
        
          <li>
            <a href="https://magicbroccoli.de/tags/cert-error/">cert-error</a>
            <span class="category-list-count">1</span>
          </li>
        
          <li>
            <a href="https://magicbroccoli.de/tags/guide/">guide</a>
            <span class="category-list-count">3</span>
          </li>
        
          <li>
            <a href="https://magicbroccoli.de/tags/mariadb/">mariadb</a>
            <span class="category-list-count">1</span>
          </li>
        
          <li>
            <a href="https://magicbroccoli.de/tags/omemo/">omemo</a>
            <span class="category-list-count">1</span>
          </li>
        
          <li>
            <a href="https://magicbroccoli.de/tags/prosody/">prosody</a>
            <span class="category-list-count">3</span>
          </li>
        
          <li>
            <a href="https://magicbroccoli.de/tags/xmpp/">xmpp</a>
            <span class="category-list-count">3</span>
          </li>
        
      </ul>
    </div>
  </div>
</div>




  


<div class="card card-block">
  <h4 class="card-title">TAG CLOUD</h4>
  <p class="card-text">
    
        <a href="https://magicbroccoli.de/tags/ca-bundle/" class="badge badge-primary">
        ca-bundle
        </a>
    
        <a href="https://magicbroccoli.de/tags/ccc/" class="badge badge-primary">
        ccc
        </a>
    
        <a href="https://magicbroccoli.de/tags/cert-error/" class="badge badge-primary">
        cert-error
        </a>
    
        <a href="https://magicbroccoli.de/tags/guide/" class="badge badge-primary">
        guide
        </a>
    
        <a href="https://magicbroccoli.de/tags/mariadb/" class="badge badge-primary">
        mariadb
        </a>
    
        <a href="https://magicbroccoli.de/tags/omemo/" class="badge badge-primary">
        omemo
        </a>
    
        <a href="https://magicbroccoli.de/tags/prosody/" class="badge badge-primary">
        prosody
        </a>
    
        <a href="https://magicbroccoli.de/tags/xmpp/" class="badge badge-primary">
        xmpp
        </a>
    
  </p>
</div>




</div>

      </div>
  </div>
</div>
      <footer class="footer">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-md-9">
        <p class="text-xs-center m-a-0 p-a-0">
          &copy; 2017 All rights reserved.
        </p>
        
        <p class="text-xs-center  m-a-0 p-a-0">
            
          <span class="p-l-1 p-r-1">
                <a href="https://magicbroccoli.de/impressum/">Impressum</a>
              </span>
              &middot; 
          <span class="p-l-1 p-r-1">
                <a href="https://magicbroccoli.de/termsofuse/">Terms of Use</a>
              </span>
              &middot; 
          <span class="p-l-1 p-r-1">
                <a href="https://magicbroccoli.de/datenschutz/">Privacy Policy</a>
              </span>
                
        </p>
        
      </div>
    </div>
  </div>
</footer>

    
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>

<script src="https://magicbroccoli.de/assets/js/highlight.pack.js"></script>

<script>hljs.initHighlightingOnLoad();</script>



<script src="https://magicbroccoli.de/assets/js/script.js"></script>




<link rel="stylesheet" type="text/css" media="screen" href="https://cdn.conversejs.org/css/converse.min.css">
<script>
  if ( screen && screen.width > 960 ) {
  document.write('<script type="text\/javascript" src="https://cdn.conversejs.org/dist/converse.min.js"><\/script>');
  }
</script>
<script>
  converse.initialize({
  allow_chat_pending_contacts: true,
  allow_non_roster_messaging: true,
  allow_registration: false,
  bosh_service_url: 'https://magicbroccoli.de/http-bind',
  csi_waiting_time: 25,
  domain_placeholder: 'magicbroccoli.de',
  default_domain: 'magicbroccoli.de',
  message_carbons: true,
  muc_domain: 'conference.magicbroccoli.de',
  providers_link: 'https://magicbroccoli.de/xmpp',
  registration_domain: 'magicbroccoli.de',
  roster_groups: true,
  show_controlbox_by_default: true,
  show_send_button: true,
  });
</script>

  </body>
</html>

