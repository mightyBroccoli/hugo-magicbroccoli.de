<!DOCTYPE html>
<html class="no-js">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Magic Broccoli </title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="">


<meta property="og:title" content="Magic Broccoli ">
<meta property="og:site_name" content="Magic Broccoli"/>
<meta property="og:url" content="https://magicbroccoli.de/" />
<meta property="og:locale" content="de-DE">


<meta property="og:type" content="website" />



<link href="https://magicbroccoli.de/index.xml" rel="alternate" type="application/rss+xml" title="Magic Broccoli" />

<link rel="canonical" href="https://magicbroccoli.de/" />

<meta name="generator" content="Hugo 0.27.1" />


  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">

  <link rel="stylesheet" href="https://magicbroccoli.de/assets/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://magicbroccoli.de/assets/css/style.css">
  <link rel="stylesheet" href="https://magicbroccoli.de/assets/css/tomorrow-night.css">
  <link href='//fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
  <link rel="apple-touch-icon" sizes="57x57" href="https://magicbroccoli.de/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="https://magicbroccoli.de/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://magicbroccoli.de/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="https://magicbroccoli.de/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://magicbroccoli.de/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://magicbroccoli.de/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="https://magicbroccoli.de/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="https://magicbroccoli.de/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://magicbroccoli.de/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="https://magicbroccoli.de/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://magicbroccoli.de/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="https://magicbroccoli.de/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://magicbroccoli.de/favicon/favicon-16x16.png">
<link rel="manifest" href="https://magicbroccoli.de/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
</head>

<body class="bg-light">
  <nav class="navbar navbar-expand-md navbar-light blog-header">
  <div class="container">
    <button class="navbar-toggler" type="button" data-toggle="collapse"
        data-target="#exCollapsingNavbar2"
        aria-controls="exCollapsingNavbar2" aria-expanded="false" aria-label="Toggle navigation">
      &#9776;
    </button>
    <div class="collapse navbar-collapse" id="exCollapsingNavbar2">
      <a class="navbar-brand" href="https://magicbroccoli.de/">Magic Broccoli</a>
      <ul class="nav navbar-nav">
        
        
          <li class="nav-item">
          <a class="nav-link menu-item" href="https://magicbroccoli.de/">
              <i class='fa fa-home fa-fw'></i>
              <span>Home</span>
          </a>
        </li>
        
          <li class="nav-item">
          <a class="nav-link menu-item" href="https://magicbroccoli.de/xmpp/">
              <i class='fa fa-delicious'></i>
              <span>XMPP</span>
          </a>
        </li>
        
          <li class="nav-item">
          <a class="nav-link menu-item" href="https://magicbroccoli.de/register/">
              <i class='fa fa-plus' fa-fw'></i>
              <span>Register</span>
          </a>
        </li>
        
          <li class="nav-item">
          <a class="nav-link menu-item" href="https://magicbroccoli.de/page/tutorial/">
              <i class='fa fa-question-circle' fa-fw'></i>
              <span>Tutorials</span>
          </a>
        </li>
        
          <li class="nav-item">
          <a class="nav-link menu-item" href="https://magicbroccoli.de/contact/">
              <i class='fa fa-info-circle'></i>
              <span>About me</span>
          </a>
        </li>
        
      </ul>
    </div>
  </div>
</nav>

  <div class="container p-a-0">
    
    <div class="row m-l-0 m-r-0">
      <div class="col-xs-12 col-md-9">
        
        
          <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
<a href="https://magicbroccoli.de/post/prosody_housekeeping/" itemprop="url">
    
      <img src="https://magicbroccoli.de/banner/prosody.png" class="img-fluid" alt="Generic responsive image">
    
</a>


  <h1 class="post-title" ><a href="https://magicbroccoli.de/post/prosody_housekeeping/">
  Prosody housekeeping

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-10-02">2 Oct, 2017</time>

    
      &middot; by nico
    
    &middot; 4 Minute Read
    &middot; 703 Words
  </div>

  
      
      
      <div class="post-meta-item">
          <i class="fa fa-folder-open-o"></i>
          
          <a class="article-category-link" href="https://magicbroccoli.de/categories/xmpp/">XMPP</a>
          &middot;
          
          <a class="article-category-link" href="https://magicbroccoli.de/categories/prosody/">Prosody</a>
          
          
      </div>
      
  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://magicbroccoli.de/tags/prosody/">Prosody</a>
          &middot;
          
          <a href="https://magicbroccoli.de/tags/mod_mam/">mod_mam</a>
          &middot;
          
          <a href="https://magicbroccoli.de/tags/mariadb/">mariadb</a>
          &middot;
          
          <a href="https://magicbroccoli.de/tags/maintenance/">maintenance</a>
          &middot;
          
          <a href="https://magicbroccoli.de/tags/guide/">Guide</a>
          
          
        </div>
      
  
  

</div>

</div>

      <p>
  
    
      Grundidee Ich habe mich in den letzen paar Tagen damit beschäftigt Dinge rund um den Prosody Server zu automatisieren. Daher möchte ich hier einfach mal meine Lösung einiger kleiner Probleme vorstellen.
Problem Das grundsätzliche Problem, welches so ziemlich alle Server mit offener Registrierung teilen, sind Zombie Accounts. Sprich Accounts die erstellt wurden, allerdings nie verwendet werden. Oder Accounts die erstellt wurden und irgendwann von ihrem Nutzer/in nicht mehr verwendet werden.
    
  
</p>

      <p class="post-more-link">
<a href="https://magicbroccoli.de/post/prosody_housekeeping/" class="btn btn-outline-primary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

        
          <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
<a href="https://magicbroccoli.de/post/cert-error-jabber-ccc/" itemprop="url">
    
      <img src="https://magicbroccoli.de/banner/ccc-header.png" class="img-fluid" alt="Generic responsive image">
    
</a>


  <h1 class="post-title" ><a href="https://magicbroccoli.de/post/cert-error-jabber-ccc/">
  CCC Jabber Connection

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-08-28">28 Aug, 2017</time>

    
      &middot; by nico
    
    &middot; 3 Minute Read
    &middot; 468 Words
  </div>

  
      
      
      <div class="post-meta-item">
          <i class="fa fa-folder-open-o"></i>
          
          <a class="article-category-link" href="https://magicbroccoli.de/categories/xmpp/">XMPP</a>
          &middot;
          
          <a class="article-category-link" href="https://magicbroccoli.de/categories/debian/">Debian</a>
          
          
      </div>
      
  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://magicbroccoli.de/tags/ca-bundle/">CA Bundle</a>
          &middot;
          
          <a href="https://magicbroccoli.de/tags/ccc/">CCC</a>
          &middot;
          
          <a href="https://magicbroccoli.de/tags/cert-error/">Cert Error</a>
          &middot;
          
          <a href="https://magicbroccoli.de/tags/prosody/">Prosody</a>
          
          
        </div>
      
  
  

</div>

</div>

      <p>
  
    
      Einleitung Der XMPP Server vom Chaos Computer Club wird unter einem Zertifikat von cacert.org betrieben. Das root Zertifikat wird allerdings von den meisten Browsern / Betriebssystemen nicht anerkannt. Dies stellt für die Erreichbarkeit des XMPP Servers ein Problem da.
Speziell Server die auf Datenschutz und Sicherheit ausgelegt wollen keine unverschlüsselten Verbindung.Im Folgenden möchte daher ich aufzeigen, welche Änderungen notwendig wären, um Debian mit den entsprechenden Zertifikaten auszustatten.
Betroffen sind damit speziell Prosody Server, die folgende Konfiguration eingestellt haben.
    
  
</p>

      <p class="post-more-link">
<a href="https://magicbroccoli.de/post/cert-error-jabber-ccc/" class="btn btn-outline-primary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

        
          <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
<a href="https://magicbroccoli.de/post/database_failure/" itemprop="url">
    
      <img src="https://magicbroccoli.de/banner/mariadb.png" class="img-fluid" alt="Generic responsive image">
    
</a>


  <h1 class="post-title" ><a href="https://magicbroccoli.de/post/database_failure/">
  Datenbank Zusammenbruch

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-08-25">25 Aug, 2017</time>

    
      &middot; by nico
    
    &middot; 1 Minute Read
    &middot; 91 Words
  </div>

  
      
      
      <div class="post-meta-item">
          <i class="fa fa-folder-open-o"></i>
          
          <a class="article-category-link" href="https://magicbroccoli.de/categories/mariadb/">MariaDB</a>
          &middot;
          
          <a class="article-category-link" href="https://magicbroccoli.de/categories/debian/">Debian</a>
          
          
      </div>
      
  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://magicbroccoli.de/tags/mariadb/">MariaDB</a>
          
          
        </div>
      
  
  

</div>

</div>

      <p>
  
    
      Maintenance Downtime wegen eines MariaDB Fehlers.
    
  
</p>

      <p class="post-more-link">
<a href="https://magicbroccoli.de/post/database_failure/" class="btn btn-outline-primary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

        
          <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  

  <h1 class="post-title" ><a href="https://magicbroccoli.de/post/xmpp-over-tls/">
  XMPP over TLS Tutorial

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-08-06">6 Aug, 2017</time>

    
      &middot; by nico
    
    &middot; 5 Minute Read
    &middot; 906 Words
  </div>

  
      
      
      <div class="post-meta-item">
          <i class="fa fa-folder-open-o"></i>
          
          <a class="article-category-link" href="https://magicbroccoli.de/categories/xep-0368/">XEP-0368</a>
          &middot;
          
          <a class="article-category-link" href="https://magicbroccoli.de/categories/prosody/">Prosody</a>
          &middot;
          
          <a class="article-category-link" href="https://magicbroccoli.de/categories/xmpp/">XMPP</a>
          
          
      </div>
      
  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://magicbroccoli.de/tags/xmpp/">XMPP</a>
          &middot;
          
          <a href="https://magicbroccoli.de/tags/prosody/">Prosody</a>
          &middot;
          
          <a href="https://magicbroccoli.de/tags/guide/">Guide</a>
          
          
        </div>
      
  
  

</div>

</div>

      <p>
  
    
      How to setup XEP-0368 Was ist XEP-0368 Bei XEP-0368 handelt es sich um ein Verfahren welches XMPP-Clients ermöglicht über SRV Einträge im DNS, alternative Verbindungsmöglichkeiten zu entdecken. Dies ist äußerst nützlich, falls die regulären Verbindungswege blockiert sind zb. durch Firewalls.
XMPP Core specifies the use of xmpp-client/xmpp-server SRV records as the method of discovering how to connect to an XMPP server. This XEP extends that to include new xmpps-client/xmpps-server SRV records pointing to direct TLS ports and combine priorities and weights as if they were a single SRV record similar to RFC 6186.
    
  
</p>

      <p class="post-more-link">
<a href="https://magicbroccoli.de/post/xmpp-over-tls/" class="btn btn-outline-primary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

        
        
<div class="row ">
    <ul class="pagination">
      
          
          
            <li class="page-item">
              <a class="page-link" rel="next" href="https://magicbroccoli.de/page/2/">
                  Next »
              </a>
            </li>
          
      
    </ul>
</div>


      </div>
        <div class="col-xs-12 col-md-3">
          <div class="sidebar">
  

  


<div class="card card-block">
  <h4 class="card-title">CATEGORIES</h4>
  <div class="card-text">
    <div class="widget">
      <ul>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/bash/">
                bash
            </a>
            <span class="category-list-count">1</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/chatsecure/">
                chatsecure
            </a>
            <span class="category-list-count">1</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/debian/">
                debian
            </a>
            <span class="category-list-count">2</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/development/">
                development
            </a>
            <span class="category-list-count">1</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/gajim/">
                gajim
            </a>
            <span class="category-list-count">1</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/mariadb/">
                mariadb
            </a>
            <span class="category-list-count">1</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/omemo/">
                omemo
            </a>
            <span class="category-list-count">1</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/prosody/">
                prosody
            </a>
            <span class="category-list-count">3</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/teamspeak/">
                teamspeak
            </a>
            <span class="category-list-count">1</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/xep-0368/">
                xep-0368
            </a>
            <span class="category-list-count">1</span>
        </li>
        
        <li class="category-list-item">
            <a href="https://magicbroccoli.de/categories/xmpp/">
                xmpp
            </a>
            <span class="category-list-count">6</span>
        </li>
        
      </ul>
    </div>
  </div>
</div>




  



<div class="card card-block">
  <h4 class="card-title">TAGS</h4>
  <div class="card-text">
    <div class="widget">
      <ul>
        
          <li>
            <a href="https://magicbroccoli.de/tags/ca-bundle/">ca-bundle</a>
            <span class="category-list-count">1</span>
          </li>
        
          <li>
            <a href="https://magicbroccoli.de/tags/ccc/">ccc</a>
            <span class="category-list-count">1</span>
          </li>
        
          <li>
            <a href="https://magicbroccoli.de/tags/cert-error/">cert-error</a>
            <span class="category-list-count">1</span>
          </li>
        
          <li>
            <a href="https://magicbroccoli.de/tags/guide/">guide</a>
            <span class="category-list-count">4</span>
          </li>
        
          <li>
            <a href="https://magicbroccoli.de/tags/maintenance/">maintenance</a>
            <span class="category-list-count">1</span>
          </li>
        
          <li>
            <a href="https://magicbroccoli.de/tags/mariadb/">mariadb</a>
            <span class="category-list-count">2</span>
          </li>
        
          <li>
            <a href="https://magicbroccoli.de/tags/mod_mam/">mod_mam</a>
            <span class="category-list-count">1</span>
          </li>
        
          <li>
            <a href="https://magicbroccoli.de/tags/omemo/">omemo</a>
            <span class="category-list-count">1</span>
          </li>
        
          <li>
            <a href="https://magicbroccoli.de/tags/prosody/">prosody</a>
            <span class="category-list-count">4</span>
          </li>
        
          <li>
            <a href="https://magicbroccoli.de/tags/xmpp/">xmpp</a>
            <span class="category-list-count">3</span>
          </li>
        
      </ul>
    </div>
  </div>
</div>




  


<div class="card card-block">
  <h4 class="card-title">TAG CLOUD</h4>
  <p class="card-text">
    
        <a href="https://magicbroccoli.de/tags/ca-bundle/" class="badge badge-primary">
        ca-bundle
        </a>
    
        <a href="https://magicbroccoli.de/tags/ccc/" class="badge badge-primary">
        ccc
        </a>
    
        <a href="https://magicbroccoli.de/tags/cert-error/" class="badge badge-primary">
        cert-error
        </a>
    
        <a href="https://magicbroccoli.de/tags/guide/" class="badge badge-primary">
        guide
        </a>
    
        <a href="https://magicbroccoli.de/tags/maintenance/" class="badge badge-primary">
        maintenance
        </a>
    
        <a href="https://magicbroccoli.de/tags/mariadb/" class="badge badge-primary">
        mariadb
        </a>
    
        <a href="https://magicbroccoli.de/tags/mod_mam/" class="badge badge-primary">
        mod_mam
        </a>
    
        <a href="https://magicbroccoli.de/tags/omemo/" class="badge badge-primary">
        omemo
        </a>
    
        <a href="https://magicbroccoli.de/tags/prosody/" class="badge badge-primary">
        prosody
        </a>
    
        <a href="https://magicbroccoli.de/tags/xmpp/" class="badge badge-primary">
        xmpp
        </a>
    
  </p>
</div>




</div>

        </div>
    </div>

  </div>

      <footer class="footer">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-md-9">
        <p class="text-xs-center m-a-0 p-a-0">
          &copy; 2017 All rights reserved.
        </p>
        
        <p class="text-xs-center  m-a-0 p-a-0">
            
          <span class="p-l-1 p-r-1">
                <a href="https://magicbroccoli.de/impressum/">Impressum</a>
              </span>
              &middot; 
          <span class="p-l-1 p-r-1">
                <a href="https://magicbroccoli.de/termsofuse/">Terms of Use</a>
              </span>
              &middot; 
          <span class="p-l-1 p-r-1">
                <a href="https://magicbroccoli.de/datenschutz/">Privacy Policy</a>
              </span>
                
        </p>
        
      </div>
    </div>
  </div>
</footer>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>

<script src="https://magicbroccoli.de/assets/js/highlight.pack.js"></script>

<script>
  hljs.initHighlightingOnLoad();
</script>








<link rel="stylesheet" type="text/css" media="screen" href="https://cdn.conversejs.org/css/converse.min.css">
<script>
  if (screen && screen.width > 960) {
    document.write('<script type="text\/javascript" src="https://cdn.conversejs.org/dist/converse.min.js"><\/script>');
  }
</script>
<script>
  converse.initialize({
    allow_chat_pending_contacts: true,
    allow_non_roster_messaging: true,
    allow_registration: false,
    bosh_service_url: 'https://magicbroccoli.de/http-bind',
    csi_waiting_time: 25,
    domain_placeholder: 'magicbroccoli.de',
    default_domain: 'magicbroccoli.de',
    message_carbons: true,
    muc_domain: 'conference.magicbroccoli.de',
    providers_link: 'https://magicbroccoli.de/xmpp',
    registration_domain: 'magicbroccoli.de',
    roster_groups: true,
    show_controlbox_by_default: true,
    show_send_button: true,
  });
</script>

  </body>
</html>

